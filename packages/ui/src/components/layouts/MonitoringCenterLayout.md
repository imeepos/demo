# MonitoringCenterLayout - ÁõëÊµã‰∏≠ÂøÉÂ∏ÉÂ±Ä

## üìã ÁªÑ‰ª∂Ê¶ÇËø∞

MonitoringCenterLayout ÊòØ‰∏ì‰∏∫ËàÜÊÉÖÂÆûÊó∂ÁõëÊµãËÆæËÆ°ÁöÑÂ∏ÉÂ±ÄÁªÑ‰ª∂ÔºåÊèê‰æõÂ§öÊ†áÁ≠æÈ°µÈù¢ÊùøÂíå‰æßÊªëÈ¢ÑË≠¶‰ø°ÊÅØÊµÅ„ÄÇÈÄÇÁî®‰∫éÈúÄË¶ÅÂêåÊó∂ÁõëÊéßÂ§ö‰∏™‰ø°ÊÅØÊ∫êÂíåÂ§ÑÁêÜÂÆûÊó∂È¢ÑË≠¶ÁöÑÂú∫ÊôØ„ÄÇ

### Ê†∏ÂøÉ‰∏öÂä°Âú∫ÊôØ

- ÂÆûÊó∂ËàÜÊÉÖÁõëÊµã‰∏≠ÂøÉ
- Â§ö‰ø°ÊÅØÊ∫êÂêåÊ≠•ÁõëÊéß
- È¢ÑË≠¶‰ø°ÊÅØÂø´ÈÄüÂìçÂ∫î
- 24/7 ÁõëÊéßÂÄºÁè≠Á≥ªÁªü

## üéØ ËÆæËÆ°ÂáÜÂàô

### Âü∫‰∫é shadcn/ui ÁªÑË£ÖÁ≠ñÁï•

```typescript
Âü∫Á°ÄÁªÑ‰ª∂ÁªÑÂêàÔºö
- Sheet: ‰æßÊªëÈ¢ÑË≠¶Èù¢Êùø
- Tabs: Â§öÊ†áÁ≠æÈ°µÁõëÊµãÈù¢Êùø
- Card: ÁõëÊµãÂÜÖÂÆπÂÆπÂô®
- Badge: È¢ÑË≠¶Á≠âÁ∫ßÊ†áËØÜ
- Button: Êìç‰ΩúÊéßÂà∂ÊåâÈíÆ
- Scroll Area: ÊªöÂä®Âå∫Âüü
- Alert: ÈáçË¶ÅÊèêÈÜí‰ø°ÊÅØ
- Separator: ÂÜÖÂÆπÂàÜÈöî
```

### ËßÜËßâ‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç

- Ê∑±Ëâ≤‰∏ªÈ¢ò‰ºòÂÖàÔºàÈÄÇÂêàÈïøÊó∂Èó¥ÁõëÊéßÔºâ
- È´òÂØπÊØîÂ∫¶ËÆæËÆ°Á°Æ‰øù‰ø°ÊÅØÊ∏ÖÊô∞
- È¢ÑË≠¶Ëâ≤ÂΩ©Á≥ªÁªüÔºàÁ∫¢/Ê©ô/ÈªÑ/ÁªøÔºâ
- ÊúÄÂ∞èÂåñËßÜËßâÂπ≤Êâ∞ÂÖÉÁ¥†

### ‰∫§‰∫íË°å‰∏∫ËßÑËåÉ

- Ê†áÁ≠æÈ°µÂø´ÈÄüÂàáÊç¢ÔºàÊîØÊåÅÈîÆÁõòÂø´Êç∑ÈîÆÔºâ
- ‰æßÊªëÈù¢ÊùøËá™Âä®Êî∂Á∫≥
- ÂÆûÊó∂Êï∞ÊçÆÊµÅÂπ≥ÊªëÊõ¥Êñ∞
- È¢ÑË≠¶‰ø°ÊÅØÁΩÆÈ°∂ÊòæÁ§∫

## üîß Ê†∏ÂøÉÁî®ÈÄî

### ‰∏ªË¶ÅÂäüËÉΩ

1. **Â§öÊ∫êÁõëÊµã**: ÂêåÊó∂ÁõëÊéßÂ§ö‰∏™‰ø°ÊÅØÊ∫ê
2. **ÂÆûÊó∂È¢ÑË≠¶**: Âç≥Êó∂ÊòæÁ§∫ÂíåÂ§ÑÁêÜÈ¢ÑË≠¶‰ø°ÊÅØ
3. **Âø´ÈÄüÂìçÂ∫î**: Êèê‰æõÂø´Êç∑Êìç‰ΩúÂíåÂ§ÑÁêÜÊµÅÁ®ã
4. **ÂÖ®Â±è‰∏ìÊ≥®**: ÊîØÊåÅÂÖ®Â±èÁõëÊéßÊ®°Âºè

### ÈÄÇÁî®‰∏öÂä°Âú∫ÊôØ

- ÊîøÂ∫úÂ∫îÊÄ•ÊåáÊå•‰∏≠ÂøÉ
- ‰ºÅ‰∏öÂç±Êú∫ÁõëÊéßÂÆ§
- Â™í‰ΩìÁõëÊµãÂ∑•‰ΩúÁ´ô
- ÂÆâÂÖ®ËøêËê•‰∏≠ÂøÉ

### Áî®Êà∑‰∫§‰∫íÊµÅÁ®ã

1. ÈÄâÊã©ÁõëÊµãÊ∫êÊ†áÁ≠æÈ°µ
2. Êü•ÁúãÂÆûÊó∂Êï∞ÊçÆÊµÅ
3. Êé•Êî∂È¢ÑË≠¶ÈÄöÁü•
4. Âø´ÈÄüÂ§ÑÁêÜÂíåÊ†áËÆ∞
5. ÂàáÊç¢Âà∞ÂÖ∂‰ªñÁõëÊµãÊ∫ê

## üõ†Ô∏è ÊäÄÊúØÂÆûÁé∞

### ÁªÑË£ÖÁöÑÂü∫Á°ÄÁªÑ‰ª∂Ê∏ÖÂçï

```typescript
import { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs';
import {
  Sheet,
  SheetContent,
  SheetTrigger,
  SheetHeader,
  SheetTitle,
} from '../ui/sheet';
import { Card, CardContent, CardHeader, CardTitle } from '../ui/card';
import { Badge } from '../ui/badge';
import { Button } from '../ui/button';
import { ScrollArea } from '../ui/scroll-area';
import { Alert, AlertDescription } from '../ui/alert';
import { Separator } from '../ui/separator';
```

### TypeScript Êé•Âè£ÂÆö‰πâ

```typescript
interface MonitoringCenterLayoutProps {
  children?: React.ReactNode;
  tabs: MonitoringTab[];
  alerts?: AlertItem[];
  className?: string;
  defaultTab?: string;
  onTabChange?: (tabId: string) => void;
  onAlertAction?: (alertId: string, action: string) => void;
  enableFullscreen?: boolean;
  autoRefresh?: boolean;
  refreshInterval?: number;
}

interface MonitoringTab {
  id: string;
  label: string;
  content: React.ReactNode;
  badge?: number;
  urgent?: boolean;
  disabled?: boolean;
}

interface AlertItem {
  id: string;
  level: 'critical' | 'high' | 'medium' | 'low';
  title: string;
  description: string;
  source: string;
  timestamp: Date;
  status: 'new' | 'processing' | 'resolved';
  actions?: AlertAction[];
}

interface AlertAction {
  id: string;
  label: string;
  variant?: 'default' | 'destructive' | 'outline';
  onClick: () => void;
}
```

### ÂÖ≥ÈîÆÂÆûÁé∞ÈÄªËæë

```typescript
const MonitoringCenterLayout = forwardRef<HTMLDivElement, MonitoringCenterLayoutProps>(
  ({
    children,
    tabs = [],
    alerts = [],
    defaultTab,
    onTabChange,
    onAlertAction,
    enableFullscreen = true,
    autoRefresh = true,
    refreshInterval = 30000,
    className,
    ...props
  }, ref) => {
    const [activeTab, setActiveTab] = useState(defaultTab || tabs[0]?.id);
    const [isFullscreen, setIsFullscreen] = useState(false);
    const [alertsOpen, setAlertsOpen] = useState(false);

    // Ëá™Âä®Âà∑Êñ∞ÈÄªËæë
    useEffect(() => {
      if (!autoRefresh) return;

      const interval = setInterval(() => {
        // Ëß¶ÂèëÊï∞ÊçÆÂà∑Êñ∞
        onRefresh?.();
      }, refreshInterval);

      return () => clearInterval(interval);
    }, [autoRefresh, refreshInterval]);

    // Êñ∞È¢ÑË≠¶ÊèêÈÜí
    useEffect(() => {
      const newAlerts = alerts.filter(alert => alert.status === 'new');
      if (newAlerts.length > 0) {
        setAlertsOpen(true);
      }
    }, [alerts]);

    const handleTabChange = (tabId: string) => {
      setActiveTab(tabId);
      onTabChange?.(tabId);
    };

    const criticalAlerts = alerts.filter(alert =>
      alert.level === 'critical' && alert.status === 'new'
    );

    return (
      <div
        className={cn(
          "h-screen flex flex-col bg-background",
          isFullscreen && "fixed inset-0 z-50",
          className
        )}
        ref={ref}
        {...props}
      >
        {/* È°∂ÈÉ®ÊéßÂà∂Ê†è */}
        <Card className="rounded-none border-x-0 border-t-0">
          <CardContent className="p-4 flex items-center justify-between">
            <div className="flex items-center space-x-4">
              <h1 className="text-xl font-semibold">ÁõëÊµã‰∏≠ÂøÉ</h1>
              {criticalAlerts.length > 0 && (
                <Badge variant="destructive" className="animate-pulse">
                  {criticalAlerts.length} Á¥ßÊÄ•È¢ÑË≠¶
                </Badge>
              )}
            </div>

            <div className="flex items-center space-x-2">
              <Sheet open={alertsOpen} onOpenChange={setAlertsOpen}>
                <SheetTrigger asChild>
                  <Button variant="outline" size="sm" className="relative">
                    È¢ÑË≠¶‰∏≠ÂøÉ
                    {alerts.filter(a => a.status === 'new').length > 0 && (
                      <Badge
                        variant="destructive"
                        className="absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 text-xs"
                      >
                        {alerts.filter(a => a.status === 'new').length}
                      </Badge>
                    )}
                  </Button>
                </SheetTrigger>
                <SheetContent className="w-96">
                  <SheetHeader>
                    <SheetTitle>È¢ÑË≠¶‰ø°ÊÅØ</SheetTitle>
                  </SheetHeader>
                  <ScrollArea className="h-full mt-4">
                    <div className="space-y-4">
                      {alerts.map((alert) => (
                        <Alert key={alert.id} className="relative">
                          <div className="flex items-start justify-between">
                            <div className="flex-1">
                              <div className="flex items-center space-x-2 mb-1">
                                <Badge
                                  variant={
                                    alert.level === 'critical' ? 'destructive' :
                                    alert.level === 'high' ? 'destructive' :
                                    alert.level === 'medium' ? 'default' : 'secondary'
                                  }
                                >
                                  {alert.level}
                                </Badge>
                                <span className="text-xs text-muted-foreground">
                                  {alert.source}
                                </span>
                              </div>
                              <h4 className="font-medium">{alert.title}</h4>
                              <AlertDescription>{alert.description}</AlertDescription>
                              <div className="flex space-x-2 mt-2">
                                {alert.actions?.map((action) => (
                                  <Button
                                    key={action.id}
                                    size="sm"
                                    variant={action.variant}
                                    onClick={() => {
                                      action.onClick();
                                      onAlertAction?.(alert.id, action.id);
                                    }}
                                  >
                                    {action.label}
                                  </Button>
                                ))}
                              </div>
                            </div>
                          </div>
                        </Alert>
                      ))}
                    </div>
                  </ScrollArea>
                </SheetContent>
              </Sheet>

              {enableFullscreen && (
                <Button
                  variant="outline"
                  size="sm"
                  onClick={() => setIsFullscreen(!isFullscreen)}
                >
                  {isFullscreen ? 'ÈÄÄÂá∫ÂÖ®Â±è' : 'ÂÖ®Â±è'}
                </Button>
              )}
            </div>
          </CardContent>
        </Card>

        {/* ‰∏ªË¶ÅÁõëÊµãÂå∫Âüü */}
        <div className="flex-1 overflow-hidden">
          <Tabs value={activeTab} onValueChange={handleTabChange} className="h-full flex flex-col">
            <div className="border-b bg-muted/50">
              <TabsList className="h-12 p-1 bg-transparent">
                {tabs.map((tab) => (
                  <TabsTrigger
                    key={tab.id}
                    value={tab.id}
                    disabled={tab.disabled}
                    className="relative data-[state=active]:bg-background"
                  >
                    {tab.label}
                    {tab.badge !== undefined && tab.badge > 0 && (
                      <Badge
                        variant={tab.urgent ? "destructive" : "secondary"}
                        className="ml-2 h-5 w-5 rounded-full p-0 text-xs"
                      >
                        {tab.badge > 99 ? '99+' : tab.badge}
                      </Badge>
                    )}
                  </TabsTrigger>
                ))}
              </TabsList>
            </div>

            <div className="flex-1 overflow-hidden">
              {tabs.map((tab) => (
                <TabsContent key={tab.id} value={tab.id} className="h-full m-0">
                  <ScrollArea className="h-full">
                    <div className="p-6">
                      {tab.content}
                    </div>
                  </ScrollArea>
                </TabsContent>
              ))}
            </div>
          </Tabs>
        </div>
      </div>
    );
  }
);
```

### Ê†∑ÂºèÂíåÂä®ÁîªËßÑËåÉ

```css
/* È¢ÑË≠¶Âä®ÁîªÊïàÊûú */
@keyframes alert-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.alert-critical {
  @apply animate-pulse border-destructive;
}

/* Ê†áÁ≠æÂàáÊç¢Âä®Áîª */
.tab-content-enter {
  @apply opacity-0 transform translate-y-2;
}

.tab-content-enter-active {
  @apply opacity-100 transform translate-y-0 transition-all duration-200;
}

/* ÂÖ®Â±èÊ®°ÂºèÊ†∑Âºè */
.fullscreen-mode {
  @apply fixed inset-0 z-50 bg-background;
}
```

## üìù ‰ΩøÁî®Á§∫‰æã

### Âü∫Êú¨‰ΩøÁî®

```typescript
import { MonitoringCenterLayout } from "@/components/layouts";

function MonitoringPage() {
  const tabs = [
    {
      id: 'news',
      label: 'Êñ∞ÈóªÁõëÊµã',
      content: <NewsMonitoring />,
      badge: 12
    },
    {
      id: 'social',
      label: 'Á§æÂ™íÁõëÊµã',
      content: <SocialMonitoring />,
      badge: 8,
      urgent: true
    },
    {
      id: 'forums',
      label: 'ËÆ∫ÂùõÁõëÊµã',
      content: <ForumMonitoring />,
      badge: 3
    }
  ];

  const alerts = [
    {
      id: '1',
      level: 'critical',
      title: 'Ë¥üÈù¢ËàÜÊÉÖÊøÄÂ¢û',
      description: 'Ê£ÄÊµãÂà∞ÊüêÂìÅÁâåÁõ∏ÂÖ≥Ë¥üÈù¢‰ø°ÊÅØÂ§ßÂπÖÂ¢ûÂä†',
      source: 'ÂæÆÂçöÁõëÊµã',
      timestamp: new Date(),
      status: 'new',
      actions: [
        { id: 'handle', label: 'Á´ãÂç≥Â§ÑÁêÜ', variant: 'destructive' },
        { id: 'ignore', label: 'ÂøΩÁï•', variant: 'outline' }
      ]
    }
  ];

  return (
    <MonitoringCenterLayout
      tabs={tabs}
      alerts={alerts}
      defaultTab="news"
      onTabChange={(tabId) => console.log('ÂàáÊç¢Âà∞:', tabId)}
      onAlertAction={(alertId, action) => console.log('Â§ÑÁêÜÈ¢ÑË≠¶:', alertId, action)}
    />
  );
}
```

### È´òÁ∫ßÈÖçÁΩÆÁ§∫‰æã

```typescript
function AdvancedMonitoring() {
  const [alerts, setAlerts] = useState([]);
  const [refreshing, setRefreshing] = useState(false);

  const handleRefresh = async () => {
    setRefreshing(true);
    // Âà∑Êñ∞ÁõëÊµãÊï∞ÊçÆ
    await fetchLatestData();
    setRefreshing(false);
  };

  return (
    <MonitoringCenterLayout
      tabs={tabs}
      alerts={alerts}
      autoRefresh={true}
      refreshInterval={15000}
      enableFullscreen={true}
      onRefresh={handleRefresh}
    />
  );
}
```

## üìñ API ÊñáÊ°£

### Props Êé•Âè£

| Â±ûÊÄß             | Á±ªÂûã                                      | ÈªòËÆ§ÂÄº | ÊèèËø∞             |
| ---------------- | ----------------------------------------- | ------ | ---------------- |
| tabs             | MonitoringTab[]                           | []     | ÁõëÊµãÊ†áÁ≠æÈ°µÈÖçÁΩÆ   |
| alerts           | AlertItem[]                               | []     | È¢ÑË≠¶‰ø°ÊÅØÂàóË°®     |
| defaultTab       | string                                    | -      | ÈªòËÆ§ÊøÄÊ¥ªÁöÑÊ†áÁ≠æÈ°µ |
| onTabChange      | (tabId: string) => void                   | -      | Ê†áÁ≠æÈ°µÂàáÊç¢ÂõûË∞É   |
| onAlertAction    | (alertId: string, action: string) => void | -      | È¢ÑË≠¶Êìç‰ΩúÂõûË∞É     |
| enableFullscreen | boolean                                   | true   | ÊòØÂê¶ÂêØÁî®ÂÖ®Â±èÂäüËÉΩ |
| autoRefresh      | boolean                                   | true   | ÊòØÂê¶Ëá™Âä®Âà∑Êñ∞     |
| refreshInterval  | number                                    | 30000  | Âà∑Êñ∞Èó¥ÈöîÔºàÊØ´ÁßíÔºâ |

### ‰∫ã‰ª∂ÂõûË∞É

- `onTabChange`: Ê†áÁ≠æÈ°µÂàáÊç¢Êó∂Ëß¶Âèë
- `onAlertAction`: È¢ÑË≠¶Êìç‰ΩúÊó∂Ëß¶Âèë
- `onRefresh`: Ëá™Âä®Âà∑Êñ∞Êó∂Ëß¶Âèë

## üé® ÊúÄ‰Ω≥ÂÆûË∑µ

### ËÆæËÆ°Âª∫ËÆÆ

1. È¢ÑË≠¶‰ø°ÊÅØ‰ΩøÁî®ÊòéÁ°ÆÁöÑËßÜËßâÂ±ÇÁ∫ß
2. Ê†áÁ≠æÈ°µÊï∞ÈáèÊéßÂà∂Âú® 3-6 ‰∏™‰∏∫ÂÆú
3. ÂêàÁêÜ‰ΩøÁî®È¢úËâ≤ÁºñÁ†ÅÂå∫ÂàÜ‰ºòÂÖàÁ∫ß
4. Á°Æ‰øùÂú®È´òÈ¢ëÊõ¥Êñ∞‰∏ãÁöÑÊÄßËÉΩË°®Áé∞

### ÊÄßËÉΩ‰ºòÂåñ

1. È¢ÑË≠¶ÂàóË°®‰ΩøÁî®ËôöÊãüÊªöÂä®
2. Ê†áÁ≠æÈ°µÂÜÖÂÆπÊáíÂä†ËΩΩ
3. ÂêàÁêÜÁöÑÊï∞ÊçÆÁºìÂ≠òÁ≠ñÁï•
4. ÈÅøÂÖçÈ¢ëÁπÅÁöÑÂÖ®ÈáèÂà∑Êñ∞
